<table class="min-w-full bg-white rounded-lg shadow overflow-hidden">
  <thead class="bg-blue-100">
    <tr>
      <th class="p-2">Image</th>
      <th class="p-2">Date</th>
      <th class="p-2">Points</th>
      <th class="p-2">Inside</th>
      <th class="p-2">Estimated Area</th>
      <th class="p-2">Actions</th>
    </tr>
  </thead>
  <tbody>
    @for (r of results$ | async; track r) {
    <tr class="hover:bg-blue-50 transition">
      <td class="p-2">
        <img
          [src]="r.imageUrl"
          alt="thumbnail"
          class="w-12 h-12 object-contain border rounded shadow"
        />
      </td>
      <td class="p-2">{{ r.timestamp | date : "short" }}</td>
      <td class="p-2">{{ r.points }}</td>
      <td class="p-2">{{ r.inside }}</td>
      <td class="p-2 font-semibold">{{ r.areaEstimate | number : "1.0-2" }}</td>
      <td class="p-2">
        <button
          (click)="deleteResult(r)"
          class="text-red-600 hover:underline"
          title="Delete this result"
          aria-label="Delete result"
        >
          Delete
        </button>
      </td>
    </tr>
    }
  </tbody>
</table>
<button
  (click)="downloadCSV()"
  class="mt-4 px-4 py-2 bg-green-600 text-white rounded shadow hover:bg-green-700 transition"
  title="Download all results as CSV"
  aria-label="Download CSV"
>
  Download CSV
</button>
<button
  (click)="clearResults()"
  class="mt-4 ml-2 px-4 py-2 bg-red-600 text-white rounded shadow hover:bg-red-700 transition"
  title="Clear all results"
  aria-label="Clear all results"
>
  Clear All
</button>
